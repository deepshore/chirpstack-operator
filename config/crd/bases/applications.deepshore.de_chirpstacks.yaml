apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: chirpstacks.applications.deepshore.de
spec:
  group: applications.deepshore.de
  names:
    categories: []
    kind: Chirpstack
    plural: chirpstacks
    shortNames: []
    singular: chirpstack
  scope: Namespaced
  versions:
    - additionalPrinterColumns: []
      name: v1alpha1
      schema:
        openAPIV3Schema:
          description: Auto-generated derived type for Spec via `CustomResource`
          properties:
            spec:
              properties:
                restApi:
                  properties:
                    configuration:
                      default:
                        insecure: false
                      properties:
                        insecure:
                          default: true
                          type: boolean
                      type: object
                    enabled:
                      type: boolean
                    service:
                      default:
                        port: 0
                        type: ClusterIP
                      properties:
                        nodePort:
                          format: int32
                          nullable: true
                          type: integer
                        port:
                          default: 8080
                          format: int32
                          type: integer
                        type:
                          default: ClusterIP
                          enum:
                            - ClusterIP
                            - NodePort
                          type: string
                      type: object
                    workload:
                      default:
                        image:
                          registry: ""
                          repository: ""
                          tag: ""
                        replicas: 0
                      properties:
                        image:
                          default:
                            registry: docker.io
                            repository: chirpstack/chirpstack-rest-api
                            tag: "4"
                          properties:
                            registry:
                              type: string
                            repository:
                              type: string
                            tag:
                              type: string
                          required:
                            - registry
                            - repository
                            - tag
                          type: object
                        replicas:
                          default: 1
                          format: int32
                          type: integer
                      type: object
                  required:
                    - enabled
                  type: object
                server:
                  properties:
                    configuration:
                      properties:
                        adrPluginFiles:
                          nullable: true
                          properties:
                            configMapName:
                              type: string
                          required:
                            - configMapName
                          type: object
                        certificates:
                          default: []
                          items:
                            properties:
                              name:
                                type: string
                              secretName:
                                type: string
                            required:
                              - name
                              - secretName
                            type: object
                          type: array
                        configFiles:
                          properties:
                            configMapName:
                              type: string
                          required:
                            - configMapName
                          type: object
                        envSecrets:
                          default: []
                          items:
                            type: string
                          type: array
                        monitoring:
                          nullable: true
                          properties:
                            port:
                              type: string
                            targetPort:
                              type: string
                          required:
                            - port
                            - targetPort
                          type: object
                      required:
                        - configFiles
                      type: object
                    service:
                      properties:
                        nodePort:
                          format: int32
                          nullable: true
                          type: integer
                        port:
                          default: 8080
                          format: int32
                          type: integer
                        type:
                          default: ClusterIP
                          enum:
                            - ClusterIP
                            - NodePort
                          type: string
                      type: object
                    workload:
                      properties:
                        extraEnvVars:
                          default: []
                          items:
                            properties:
                              name:
                                type: string
                              value:
                                type: string
                            required:
                              - name
                              - value
                            type: object
                          type: array
                        image:
                          default:
                            registry: docker.io
                            repository: chirpstack/chirpstack
                            tag: "4"
                          properties:
                            registry:
                              type: string
                            repository:
                              type: string
                            tag:
                              type: string
                          required:
                            - registry
                            - repository
                            - tag
                          type: object
                        podAnnotations:
                          default: []
                          items:
                            properties:
                              key:
                                type: string
                              value:
                                type: string
                            required:
                              - key
                              - value
                            type: object
                          type: array
                        podLabels:
                          default: []
                          items:
                            properties:
                              key:
                                type: string
                              value:
                                type: string
                            required:
                              - key
                              - value
                            type: object
                          type: array
                        replicas:
                          format: int32
                          type: integer
                        type:
                          enum:
                            - deployment
                            - statefulset
                          type: string
                      required:
                        - replicas
                        - type
                      type: object
                  required:
                    - configuration
                    - service
                    - workload
                  type: object
              required:
                - restApi
                - server
              type: object
            status:
              nullable: true
              properties:
                bookkeeping:
                  properties:
                    lastObservedConfigHash:
                      nullable: true
                      type: string
                    lastObservedGeneration:
                      format: int64
                      nullable: true
                      type: integer
                    lastObservedWorkloadType:
                      enum:
                        - deployment
                        - statefulset
                      nullable: true
                      type: string
                    lastReconciliationAttempt:
                      default:
                        nanos_since_epoch: 0
                        secs_since_epoch: 0
                      properties:
                        nanos_since_epoch:
                          format: uint32
                          minimum: 0.0
                          type: integer
                        secs_since_epoch:
                          format: uint64
                          minimum: 0.0
                          type: integer
                      required:
                        - nanos_since_epoch
                        - secs_since_epoch
                      type: object
                  type: object
                errors:
                  items:
                    type: string
                  type: array
                state:
                  enum:
                    - Processing
                    - Error
                    - Done
                  type: string
              required:
                - bookkeeping
                - errors
                - state
              type: object
          required:
            - spec
          title: Chirpstack
          type: object
      served: true
      storage: true
      subresources:
        status: {}
